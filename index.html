<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Rest Countires API implementation</title>
    <script src="https://cdn.jsdelivr.net/npm/axios/dist/axios.min.js"></script>
    
</head>
<body>
  <select id="locality-dropdown" name="locality">
  </select>

  <script>
    let dropdown = document.getElementById('locality-dropdown');
    dropdown.length = 0;

    let defaultOption = document.createElement('option');
    defaultOption.text = 'Choose Country';

    dropdown.add(defaultOption);
    dropdown.selectedIndex = 0;
    // Make a request to rc api
    axios.get('https://restcountries.eu/rest/v2/all')
   .then(function (response) {
     // handle success
     let option;
     console.log("test API response", response.data);

     for (let i = 0; i < response.data.length; i++) {
          option = document.createElement('option');
      	  option.text = response.data[i].name;
      	  option.value = response.data[i].abbreviation;
      	  dropdown.add(option);
    	}    

   })
   .catch(function (error) {
     // handle error
     console.log(error);
   })
   .then(function () {
     // always executed
   });

    </script>
</body>
</html>